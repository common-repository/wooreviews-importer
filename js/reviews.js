var hostname="https://wooshark.website";function startLoadingSpinner(){jQuery(".loader2").css({display:"block",position:"fixed","z-index":9999,top:"50px",right:"50px","border-radius":"35px","background-color":"black"}),jQuery(".loader4").css({display:"block",position:"fixed","z-index":9999,top:"50px",right:"50px","border-radius":"35px","background-color":"black"})}function stopLoadingSpinner(){jQuery(".loader2").css({display:"none"}),jQuery(".loader4").css({display:"none"})}function prepareModalFRomListOfProducts(){jQuery("#table-reviews tbody").empty(),jQuery('<div class="modal fade bd-example-modal-lg" id="modal" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel"    aria-hidden="true">     <div class="modal-dialog modal-lg" style="max-width:75vw;    margin-top: 20px;"><div class="modal-content" style="">         <div class="modal-content" style="">          <div class="modal-body"><button type="button" style="width:35%;  margin-top:10px; display:block; margin-left:32%; margin-bottom:20px"                    class="button-5" id="addReview"> Add Review        </button>      <button class="button-7" style="display:none; margin-bottom: 20px; width: 35%;     margin-left: 32%;" id="openAdvancedSettings"> Open advanced settings </button><div style="display:none" id="advancedSettings">         <div style="margin-top:10px; margin-bottom:10px; margin-right:20px"><div><label> You can load reviews starting from reviews number </label><input id="customPageStart"  placeholder="start loading from review number" value="1"type="number" class="form-control" /></div></div> <div style="display:flex">                      <input style="margin-top:10px;flex: 1 1 40%;" placeholder="email (default value is unknown@unknown.com"                        id="globalEmail" class="form-control " style="widh:60%" /><button type="button"                        style="width:25%; flex: 1 1 50%;margin-top:10px; display:block" class="btn btn-default"                        id="setAllEmails" style="width:100%;margin-top:10px"> Set all emails fields to this value                         </button></div></div> <div style="display:flex;">  <div style="flex: 1 1 48%; background-color:#eee8e8; margin-right:1%; padding:2% ">                <div style=" "><input style="margin-top:10px;" placeholder="Paste AliExpress Product url and click the import button below"                        id="aliexpressProductSku" class="form-control " style="widh:60%" /><button type="button"                        style="width:100%;%;margin-top:10px; display:block" class="button-5"                        id="ImportReviewsFromAliexpress" style="width:100%;margin-top:10px"> Import AliExpress Reviews        <span style="color:red" id="reviewsCounterAliExpress">(0)</span>              <span id="loadingReviewsAliExpress"></span>   </button> </div>  </div>  <div style="flex: 1 1 48%; background-color:#eee8e8; margin-right:1%; padding:2% ">                <div style=" "><input style="margin-top:10px;" placeholder="Paste Amazon Product url"                        id="amazonSku" class="form-control " style="widh:60%" /><button type="button"                        style="width:100%; margin-top:10px; display:block" class="button-5"                        id="importReviewsFRomAmazon" style="width:100%;margin-top:10px"> Import Amazon reviews <span style="color:red" id="reviewsCounter">(0)</span> <span id="loadingReviews"></span></button>  </div>  </div>  </div><button type="button"                     class="button-7" id="loadMoreReviews100AliExpress" style="width:100%;margin-top:10px; display:none"> Load next 100 AliExpress  reviews <span id="loadingReviewsAliExpressNext"></span></button> <div id="countReviewsModal" ></div><button type="button"      class="button-7" id="loadMoreReviewsAmazon100" style="display:none; width:100%;margin-top:10px; display:none"> Load next 100 Amazon                    reviews <span id="loadingReviewsNextAmazon"></button> <button type="button" style="width:25%; display:none; margin-top:10px; "                    class="button-5" id="FillTenReviews" style="width:100%;margin-top:10px"> Add 10 random                    Reviews</button>                <div id="customReviews" style="overflow-y:scroll;height:500px">                    <table id="table-reviews" class="table table-striped">                        <thead>                            <tr>                                <th>Review</th>                                <th>Username</th>                                <th>Date creation</th>                                <th>Rating</th>                                <th>Email</th>                                <th>Tags</th>                                <th>Remove</th>                                <th>Insert reviews to product</th>                            </tr>                        </thead>                        <tbody> </tbody>                    </table>                </div>            </div>            <div class="modal-footer"><button type="button" id="confirmReviewInsertionFromListOfproducts" class="button-5" >Insert All Reviews to product </button><button type="button" class="button-6 closeModal"                    data-dismiss="modal">Close</button></div>        </div>    </div></div><div class="loader2" style="display:none; z-index:9999">    <div></div>    <div></div>    <div></div>    <div></div></div>').appendTo(jQuery("#modal-container"))}function getReviews(){var e=jQuery("#table-reviews tbody tr"),t=[];return e.each(function(e,r){t.push({review:r.cells[0].innerHTML||"-",rating:jQuery(r).find("input").val()||5,datecreation:r.cells[2].innerText,username:r.cells[1].innerText||"unknown",email:r.cells[4].innerText&&!r.cells[4].innerText.includes("*******@unknown.com")?r.cells[4].innerText:"*******@unknown.com"})}),t}function insertIntoWPBYBlock(e,t){startLoadingSpinner(),jQuery.ajax({url:wooshark_params_reviews.ajaxurl,type:"POST",dataType:"JSON",data:{action:"insert-reviews-to-productRM",post_id:t,reviews:e},success:function(e){e&&!e.error&&e.insertedSuccessfully&&e.insertedSuccessfully.length?displayToast(e.insertedSuccessfully.length+" reviews are imported successfully","black"):e.error_max_reached?(displayToast("already  "+e.error_max_reached+" imported reviews  --  Reached max import limit for this month, pelase upgrade to premuim plan, counter will reset at the beginning of the next month","black"),setTimeout(function(){window.open("http://sharkdropship.com/irivyou","_blank")},4e3)):displayToast("Unknown errr, pelase contact wooshrak","red"),stopLoadingSpinner(),jQuery("#table-reviews tbody").empty()},error:function(e){console.log("****err",e),stopLoadingSpinner(),e&&e.responseText&&displayToast(e.responseText,"red")}})}function insertReviewsIntoWordpress(e,t){if(e&&e.length&&e.length>100){let r=Math.ceil(e.length/100);for(let i=0;i<r;i++)insertIntoWPBYBlock(e.splice(0,99),t)}else insertIntoWPBYBlock(e,t)}function handleServerResponse(e){200===e?(displayToast("Reviews imported successfully","black"),jQuery(".loader2").css({display:"none"})):(displayToast("Error while inserting the product","red"),jQuery(".loader2").css({display:"none"}))}function displayToast(e,t){jQuery.toast({text:e,icon:"info",loaderBg:"#9EC600",textColor:"black",hideAfter:5e3,stack:5,textAlign:"left",position:"bottom-right"})}function enableLoadButtons(){jQuery("#loadMoreReviews").attr("disabled",!1),jQuery("#loadMoreReviews50").attr("disabled",!1),jQuery("#loadMoreReviews100AliExpress").attr("disabled",!1),jQuery("#loadMoreReviewsAmazon").attr("disabled",!1),jQuery("#loadMoreReviewsAmazon50").attr("disabled",!1),jQuery("#loadMoreReviewsAmazon100").attr("disabled",!1)}function disableLoadButton(){jQuery("#loadMoreReviews").attr("disabled",!0),jQuery("#loadMoreReviews50").attr("disabled",!0),jQuery("#loadMoreReviews100AliExpress").attr("disabled",!0),jQuery("#loadMoreReviewsAmazon").attr("disabled",!0),jQuery("#loadMoreReviewsAmazon50").attr("disabled",!0),jQuery("#loadMoreReviewsAmazon100").attr("disabled",!0)}jQuery(document).on("click","#openAdvancedSettings",function(e){jQuery("#advancedSettings").show()}),jQuery(document).on("click",".closeModal",function(e){prepareModalFRomListOfProducts(),jQuery("#reviewsCounter").text("(0)"),jQuery("#reviewsCounterAliExpress").text("(0)"),jQuery("#amazonSku").val(""),jQuery("#aliexpressProductSku").val("")}),jQuery(document).on("click","#openModalReviews",function(e){}),jQuery(document).on("click","#LoadReviewsLibrary",function(e){LoadReviewsLibrary()}),jQuery(document).on("click","#addReview",function(e){console.log("hndle ui-sortable-handle",jQuery(".wp-heading-inline")),e.preventDefault(),jQuery("#table-reviews tbody").append('<tr><td style="width:50%" contenteditable>  review content  </td><td contenteditable style="width:10%">'+getUsername()+'</td><td contenteditable style="width:10%">'+(new Date).toISOString().slice(0,10)+'</td></td><td style="width:10%"><input style="width:100%" type="number" min="1" max="5" value="5"></td><td contenteditable>test@test.com</td><td style="width:15%"><input  placeholder="add tag" id="tagContent" class="form-control"><input type="color" value="#8000ff" id="colorTag" ><button class="button-5" id="addTag" type="button" style="margin-left:5px"> Add tag </button></td><td><button class="btn btn-danger" id="removeReview" style="font-size: 2rem;">X</button></td><td style="width:22%"><button class="button-8" style="font-size: 0.8rem;" type="button" id="addToReviewsLibrary">Insert to product</button></td></tr>'),jQuery("#table-reviews tr td[contenteditable]").css({border:"1px solid #51a7e8","box-shadow":"inset 0 1px 2px rgba(0,0,0,0.075), 0 0 5px rgba(81,167,232,0.5)"})}),jQuery(document).on("click","#FillTenReviews",function(e){e.preventDefault();for(var t=0;t<10;t++)jQuery("#table-reviews tbody").append('<tr><td style="width:60%" contenteditable>  review content  </td><td contenteditable style="width:15%">'+getUsername()+'</td><td contenteditable style="width:15%">'+(new Date).toISOString().slice(0,10)+'</td></td><td style="width:10%"><input style="width:100%" type="number" min="1" max="5" value="5"></td><td><button class="btn btn-danger" id="removeReview">X</button></td></tr>'),jQuery("#table-reviews tr td[contenteditable]").css({border:"1px solid #51a7e8","box-shadow":"inset 0 1px 2px rgba(0,0,0,0.075), 0 0 5px rgba(81,167,232,0.5)"})}),jQuery(document).ready(function(){getAllProducts(0),prepareModalFRomListOfProducts(),restoreConfiguration(),getAllReviewsLibrary(),jQuery("#selectedLanguage").text("Import preference AliExpress: "),jQuery(document).on("click",".woocommerce-product-gallery__image",function(e){jQuery(".carousel-item").each(function(e){jQuery(e).remove()}),jQuery("li[data-target]").each(function(e){jQuery(e).remove()}),jQuery('<div class="modal fade" id="myModal" role="dialog"><div class="modal-dialog" style="min-width: 1023px;">   <div class="modal-content">      <div class="modal-body"  id="contentImage"> <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel"> <ol class="carousel-indicators"> </ol> <div class="carousel-inner">  <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button"  data-slide="prev">  <span class="carousel-control-prev-icon" aria-hidden="true"></span>   <span class="sr-only">Previous</span> </a> <a class="carousel-control-next" href="#carouselExampleIndicators" role="button"data-slide="next">   <span class="carousel-control-next-icon" aria-hidden="true"></span> <span class="sr-only">Next</span>  </a> </div>     </div> </div></div></div>').appendTo("html");for(var t=jQuery(".woocommerce-product-gallery__wrapper img"),r=0;r<t.length+1;r++)if(t[r]){var i=t[r].src;0==r?jQuery('<li data-target="#carouselExampleIndicators" data-slide-to="'+r+'" class="active"></li>').appendTo(".carousel-indicators"):jQuery('<li data-target="#carouselExampleIndicators" data-slide-to="'+r+'" class=""></li>').appendTo(".carousel-indicators"),0==r?jQuery('<div class="carousel-item active">    <img class="d-block w-100" src="'+i+'" alt="First slide">   </div>').appendTo(".carousel-inner"):jQuery('<div class="carousel-item">    <img class="d-block w-100" src="'+i+'" alt="First slide">   </div>').appendTo(".carousel-inner")}jQuery("#myModal").modal()})}),jQuery(document).on("click","#testdom",function(e){console.log("----",jQuery(".product_title"))}),jQuery(document).on("click","#removeReview",function(e){jQuery(this).parents("tr").remove()}),jQuery(document).on("click","#addTag",function(e){let t=jQuery(this).parents("td").find("#colorTag").val();jQuery(this).parents("tr")[0].cells[0].innerHTML=jQuery(this).parents("tr")[0].cells[0].innerHTML+'<span style="background-color:'+t+'; padding:5px; margin:5px; border-radius:5px"> #'+jQuery(this).parents("td").find("#tagContent").val()+"</span>"}),jQuery(document).on("click","#FillTwentyReviews",function(e){for(var t=0;t<20;t++)jQuery("#table-reviews tbody").append('<tr><td style="width:60%" contenteditable>  review content  </td><td contenteditable style="width:15%">'+getUsername()+'</td><td contenteditable style="width:15%">'+(new Date).toISOString().slice(0,10)+'</td></td><td style="width:10%"><input style="width:100%" type="number" min="1" max="5" value="5"></td><td><button class="btn btn-danger" id="removeReview">X</button></td></tr>'),jQuery("#table-reviews tr td[contenteditable]").css({border:"1px solid #51a7e8","box-shadow":"inset 0 1px 2px rgba(0,0,0,0.075), 0 0 5px rgba(81,167,232,0.5)"})}),jQuery(document).on("click","#setAllEmails",function(e){jQuery("#globalEmail").val()&&jQuery("#table-reviews tbody tr").each(function(e,t){t&&t.cells&&t.cells.length&&t.cells[4]&&(t.cells[4].innerHTML=jQuery("#globalEmail").val())})}),jQuery(document).on("click","#Load100Reviews",function(e){displayToast("Premuim feature, please upgrade")}),jQuery(document).on("click","#setRealRandomName",function(e){displayToast("Premuim feature, please upgrade")}),jQuery(document).on("click","#dispayImportModal",function(e){e.preventDefault();var t=window.location.href,r=t.indexOf("?post="),i=t.indexOf("&"),o=t.substring(r+6,i);currentProductId=o}),jQuery(document).on("click","#loadMoreReviewsAmazon",function(e){}),jQuery(document).on("click","#loadMoreReviews",function(e){}),jQuery(document).on("click","#ImportReviewsFromAliexpress",function(e){jQuery("#loadingReviewsAliExpress").append(jQuery('<div class="lds-ring"><div></div><div></div><div></div><div></div></div>')),alreadyreceivedResponse=0;for(let e=0;e<10;e++){let t=e;disableLoadButton(),importReviewsFRomAliexpress(t,1)}}),jQuery(document).on("click","#loadMoreReviews100AliExpress",function(e){alreadyreceivedResponse=0,jQuery("#loadingReviewsAliExpressNext").append(jQuery('<div class="lds-ring"><div></div><div></div><div></div><div></div></div>'));for(let e=currentPageReviewsAmazon;e<currentPageReviewsAmazon+10;e++){let t=e;disableLoadButton(),importReviewsFRomAliexpress(t,1)}}),jQuery(document).on("click","#loadMoreReviewsAmazon100",function(e){alreadyreceivedResponse=0,jQuery("#loadingReviewsNextAmazon").append(jQuery('<div class="lds-ring"><div></div><div></div><div></div><div></div></div>'));for(let e=currentPageReviewsAmazon;e<currentPageReviewsAmazon+10;e++){let t=e;disableLoadButton(),importReviewsFRomAmazon(t,1)}}),jQuery(document).on("click","#importReviewsFRomAmazon",function(e){jQuery("#loadingReviews").append(jQuery('<div class="lds-ring"><div></div><div></div><div></div><div></div></div>')),alreadyreceivedResponse=0;for(let e=0;e<10;e++){let t=e;disableLoadButton(),importReviewsFRomAmazon(t,1)}}),jQuery(document).on("click","#confirmReviewInsertion",function(e){e.preventDefault();var t=getReviews(),r=window.location.href,i=r.indexOf("?post="),o=r.indexOf("&");insertReviewsIntoWordpress(t,r.substring(i+6,o))});let currentProductId="";jQuery(document).on("click","#confirmReviewInsertionFromListOfproducts",function(e){displayToast("Bulk import is a premuim feature, you can use the singe import for free or upgrade"),setTimeout(function(){window.open("https://sharkdropship.com/irivyou","_blank")},4e3)});let currentPageReviews=1,currentPageReviewsAmazon=1,currentPageReviewsAliExpress=1;function restoreConfiguration(){try{_savedConfiguration=JSON.parse(localStorage.getItem("_savedConfigurationReviewPlugin"))}catch(e){_savedConfiguration={}}_savedConfiguration||(_savedConfiguration={});let e=_savedConfiguration.singleImportonfigurationAliExpress,t=_savedConfiguration.singleImportonfigurationAmazon;e?(jQuery("#importOnlyWithImagesAliexpress").prop("checked",e.importOnlyWithImagesAliexpress),jQuery("#generateRandomNamesAliExpress").prop("checked",e.generateRandomNamesAliExpress),jQuery("#imortOnlyFiveStarsAliExpress").prop("checked",e.imortOnlyFiveStarsAliExpress),jQuery("#importReviewsFlag").prop("checked",e.importReviewsFlag),jQuery("#importProductDetails").prop("checked",e.importProductDetails),jQuery("#importLogisticDetails").prop("checked",e.importLogisticDetails),jQuery("#isChangeReviewsStars").prop("checked",e.isChangeReviewsStars),jQuery("#isHideReviewsDisplay").prop("checked",e.isHideReviewsDisplay),jQuery("#customizeReviewsBeforeimportAliExpress").prop("checked",e.customizeReviewsBeforeimportAliExpress),jQuery("[name=language][value="+e.languageReviewsAliexpress+"]").attr("checked",!0)):(jQuery("#importOnlyWithImagesAliexpress").prop("checked",!1),jQuery("#generateRandomNamesAliExpress").prop("checked",!1),jQuery("#imortOnlyFiveStarsAliExpress").prop("checked",!1),jQuery("#customizeReviewsBeforeimportAliExpress").prop("checked",!1),jQuery("[name=language][value=en_US]").attr("checked",!0),jQuery("#importLogisticDetails").prop("checked",!1),jQuery("#importReviewsFlag").prop("checked",!0),jQuery("#importProductDetails").prop("checked",!0),jQuery("#isChangeReviewsStars").prop("checked",!1),jQuery("#isHideReviewsDisplay").prop("checked",!1)),t?(jQuery("#importOnlyWithImagesAmazon").prop("checked",t.importOnlyWithImagesAmazon),jQuery("#onlyVerifiedPurchase").prop("checked",t.onlyVerifiedPurchase),jQuery("#isHighQualityImage").prop("checked",t.isHighQualityImage),jQuery("#imortOnlyFiveStarsAmazon").prop("checked",t.imortOnlyFiveStarsAmazon),jQuery("#customizeReviewsBeforeimportAmazon").prop("checked",t.customizeReviewsBeforeimportAmazon),jQuery("#importProductTitleAmazon").prop("checked",t.importProductTitleAmazon),jQuery("#importHelpfullStatement").prop("checked",t.importHelpfullStatement),jQuery("#searchKeywordAmazon").val(t.searchKeywordAmazon),jQuery("[name=languageAmazon][value="+t.languageReviewsAmazon+"]").attr("checked",!0)):(jQuery("#importOnlyWithImagesAmazon").prop("checked",!1),jQuery("#onlyVerifiedPurchase").prop("checked",!1),jQuery("#isHighQualityImage").prop("checked",!1),jQuery("#importProductTitleAmazon").prop("checked",!1),jQuery("#importHelpfullStatement").prop("checked",!1),jQuery("#imortOnlyFiveStarsAmazon").prop("checked",!1),jQuery("#customizeReviewsBeforeimportAmazon").prop("checked",!1),jQuery("[name=languageAmazon][value=en_US]").attr("checked",!1))}function getAllProducts(e){jQuery.ajax({url:wooshark_params_reviews.ajaxurl,type:"POST",dataType:"JSON",data:{action:"get_products_reviews",paged:e},success:function(e){if(e){var t=jQuery("#products-wooshark-reviews");t.find("tbody tr").remove(),e.forEach(function(e,r){t.append("<tr><td ><img style='border:1px solid grey' width='80px' height='80px' src="+e.image+"></img></td><td>"+e.sku+"</td><td>"+e.id+"</td> <td>"+e.title.substring(0,50)+"</td><td><button class='button-5' id='insert-product-reviews-plugin' style='width:100%'><a style='color:white'  data-toggle='modal' data-target='#modal'> Add Reviews </a></button></td></tr>")})}},error:function(e){displayToast(e.responseText,"red")},complete:function(){}})}function getUsername(){var e=names[Math.floor(Math.random()*names.length)],t=names.indexOf(e);return names.splice(t,1),e}jQuery(document).on("click","#saveGlobalConfigurationReviewPlugin",function(e){let t={},r=jQuery('input[name="languageAmazon"]:checked')[0].value;var i={importOnlyWithImagesAliexpress:jQuery("#importOnlyWithImagesAliexpress").prop("checked"),generateRandomNamesAliExpress:jQuery("#generateRandomNamesAliExpress").prop("checked"),imortOnlyFiveStarsAliExpress:jQuery("#imortOnlyFiveStarsAliExpress").prop("checked"),importReviewsFlag:jQuery("#importReviewsFlag").prop("checked"),importProductDetails:jQuery("#importProductDetails").prop("checked"),customizeReviewsBeforeimportAliExpress:jQuery("#customizeReviewsBeforeimportAliExpress").prop("checked"),languageReviewsAliexpress:jQuery('input[name="language"]:checked')[0].value,importLogisticDetails:jQuery("#importLogisticDetails").prop("checked"),isChangeReviewsStars:jQuery("#isChangeReviewsStars").prop("checked"),isHideReviewsDisplay:jQuery("#isHideReviewsDisplay").prop("checked")},o={importOnlyWithImagesAmazon:jQuery("#importOnlyWithImagesAmazon").prop("checked"),onlyVerifiedPurchase:jQuery("#onlyVerifiedPurchase").prop("checked"),isHighQualityImage:jQuery("#isHighQualityImage").prop("checked"),imortOnlyFiveStarsAmazon:jQuery("#imortOnlyFiveStarsAmazon").prop("checked"),importProductTitleAmazon:jQuery("#importProductTitleAmazon").prop("checked"),importHelpfullStatement:jQuery("#importHelpfullStatement").prop("checked"),customizeReviewsBeforeimportAmazon:jQuery("#customizeReviewsBeforeimportAmazon").prop("checked"),searchKeywordAmazon:jQuery("#searchKeywordAmazon").val(),languageReviewsAmazon:jQuery('input[name="languageAmazon"]:checked')[0].value};t.singleImportonfigurationAliExpress=i,t.singleImportonfigurationAmazon=o,localStorage.setItem("_savedConfigurationReviewPlugin",JSON.stringify(t)),displayToast("Configuration saved successfully"),jQuery("#savedCorrectlySection").show(),jQuery.ajax({url:wooshark_params_reviews.ajaxurl,type:"POST",dataType:"JSON",data:{action:"save-options-reviews-plugin",isHideReviewsDisplay:jQuery("#isHideReviewsDisplay").prop("checked")?"Y":"N"},success:function(e){},error:function(e){},complete:function(){}}),localStorage.setItem("amazonLanguage",r),document.location.reload(!0)}),jQuery(document).on("click","#insert-product-reviews-plugin",function(e){currentProductId=jQuery(this).parents("tr")[0].cells[2].innerText});var names=["Craig Piro","Cindi Mcfarlin","Maximilien Chopin","Alfonso Villapol","Gayla Tincher","Lelah Pelosi","Kholmatzhon Daniarov","Klemens Totleben","Émeric Figuier","Joseph Garreau","Moriya Masanobu","Fernand Aveline","Germain Beaumont","Finn Junkermann","Benoît Cortot","Kawano Tanyu","Gérald Noir","Lisabeth Brennen","Jaqueline Phipps","Roderick Roth","Adella Tarry","Rudolf Kirsch","Fritz Filippi","Gérald Courbet","Dastan Nurbolatev","Oscar Álvarez","Devon Huntoon","Marlen Akhmetov","Cassey Odle","Patty Balser","Néo Lortie","Dieter Krist","Speranzio Bartolone","Iside Casaletto","Durante Sciara","Ildefonso Sollami","Xose Mendez","Vladimiro De Angelo","Gianmaria De Sario","Anacleto Adornetto","Sigmund Bruckmann","Valtena Amodei","Liberatore Accordino","Alfredo Lamanna","Kemberly Roza","Lluciano Marcos","Fukumoto Shusake","Branda Goshorn","Isadora Heer","Micael Montes","Derrick Sclafani","Thibault Silvestre","Wendelin Jonas","Coleen Dragon","Ted Basye","Emmanuel Gillie","Lorean Soni","Reiko Jeanlouis","Olevia Lauder","Savannah Brotherton","Franchesca Schwebach","Chae Jiang","Jaimee Harter","Windy Milnes","Takako Ream","Zoraida Swick","Mammie Aguiniga","Wendi Raver","Clarita Pursell","Diedra Spath","Tandy Hoyte","Lanie Edwin","Marchelle Dowden","Susann Masson","Jannette Wilmes","Lakisha Mullenix","Shanda Gatling","Kathi Okamura","Ellie Julius","Demarcus Mcmullen","Major Woodrum","Alpha Um","Prudence Rodden","Shante Dezern","Emma Carra","Starr Lheureux","Verline Cordon","Carla Poole","Alisa Watts","Maariya Kramer","Aamir Boyd","Antonio Levine","Della Drew","Miriam Perry","Sarina Santos","Armaan Ellison","Graham Rankin","Aasiyah Haney","Debbie Tanner","Yuvraj Wolf","Eleri Barnes","Ira Forster","Gage Edmonds","Nour Hartman","Niam Mullins","Mahi Reid","Winston Hyde","Rosalie Robertson","Samirah Hood","Bonnie Montes","Aliya Fernandez","Renesmae Knapp","Enrique Lutz","Korey Wu","Andrea Xiong","Daanyal Shepard","Efan Wharton"];function stopLoading(e){e||(e="loader2"),jQuery("."+e).css({display:"none"})}function enrichAmazonReview(e,t,r,i){try{_savedConfiguration=JSON.parse(localStorage.getItem("_savedConfigurationReviewPlugin"))}catch(e){_savedConfiguration={}}_savedConfiguration||(_savedConfiguration={});let o=_savedConfiguration?_savedConfiguration.singleImportonfigurationAmazon:{};o||(o={});let a="",n=jQuery("#importProductTitleAmazon").prop("checked")||o.importProductTitleAmazon;t&&n&&(a=a+'<div style="font-weight:bold; margin-bottom:15px"> '+t+" </div>"),a+=e;let s=jQuery("#importHelpfullStatement").prop("checked")||o.importHelpfullStatement;return r&&s&&(a=a+'<div style="font-weight:bold; margin-bottom:15px"> '+r+" </div>"),a}function enrichReviewContent(e,t,r){try{_savedConfiguration=JSON.parse(localStorage.getItem("_savedConfigurationReviewPlugin"))}catch(e){_savedConfiguration={}}_savedConfiguration||(_savedConfiguration={});let i=_savedConfiguration?_savedConfiguration.singleImportonfigurationAliExpress:{};i||(i={});let o="",a=jQuery("#importReviewsFlag").prop("checked")||i.importReviewsFlag,n=jQuery("#importProductDetails").prop("checked")||i.importProductDetails;t&&a&&(o=o+'<div style="margin-bottom:10px; font-weight:bold; "><b> Country: '+t+"</b></div>");let s=jQuery("#importLogisticDetails").prop("checked")||i.importLogisticDetails;if(r&&n){let e=r.split(",");s||e.pop(),e.forEach(function(e,t){e&&t&&(o=o+'<div style="margin-bottom:10px; font-weight:bold; background-color:#cfd4d2; padding:5px; border-radius:7px; width: fit-content;"><b>'+e+"</b></div>")})}return o=o+"<div></div>"+e}function getAliexpressProductId(e){if(e&&e.indexOf(".html")&&e.indexOf("/item/")){let t=e.indexOf("/item/"),r=e.indexOf(".html"),i="";return t>-1&&r>-1&&(i=e.substring(t+6,r))}return!1}function getLnguageFfromAliexpressUrl(e){if(e&&e.includes("aliexpress.")){if(e.includes("https://www.aliexpress.com/"))return"en_EN";if(e.includes("https://pt.aliexpress.com/"))return"pt_PT";if(e.includes("https://fr.aliexpress.com/"))return"fr_FR";if(e.includes("https://de.aliexpress.com/"))return"de_DE";if(e.includes("https://it.aliexpress.com/"))return"it_IT";if(e.includes("https://es.aliexpress.com/"))return"es_ES";if(e.includes("https://in.aliexpress.com/"))return"in_IN";if(e.includes("https://ja.aliexpress.com/"))return"ja-JP";if(e.includes("https://nl.aliexpress.com/"))return"nl_NL";if(e.includes("https://th.aliexpress.com/"))return"th_TH";if(e.includes("https://ar.aliexpress.com/"))return"ar_AR";if(e.includes("https://aliexpress.ru/"))return"ru_RU"}}function getLanguageFRomUrl(e){if(e&&e.includes("https://www.amazon")){if(e.includes("https://www.amazon.com.br"))return"br_BR";if(e.includes("https://www.amazon.com.mx"))return"mx_MX";if(e.includes("https://www.amazon.com.tr"))return"tr_TR";if(e.includes("https://www.amazon.com.au"))return"au_AU";if(e.includes("https://www.amazon.com"))return"en_EN";if(e.includes("https://www.amazon.co.uk/"))return"uk_UK";if(e.includes("https://www.amazon.fr/"))return"fr_FR";if(e.includes("https://www.amazon.de/"))return"de_DE";if(e.includes("https://www.amazon.it/"))return"it_IT";if(e.includes("https://www.amazon.es/"))return"es_ES";if(e.includes("https://www.amazon.in/"))return"in_IN";if(e.includes("https://www.amazon.ca/"))return"ca_CA";if(e.includes("https://www.amazon.jp/"))return"jp_JP";if(e.includes("https://www.amazon.nl/"))return"nl_NL";if(e.includes("https://www.amazon.pl/"))return"pl_PL"}}function getAmazonAsinFromUrl(e){let t="";if(e&&e.includes("/dp/product/")){let r=e.indexOf("/dp/product/"),i=r+12,o=r+22;t=e.substring(i,o)}else if(e&&e.includes("/gp/product/")){let r=e.indexOf("/gp/product/"),i=r+12,o=r+22;t=e.substring(i,o)}else if(e&&e.includes("/dp/")){let r=e.indexOf("/dp/"),i=r+4,o=r+14;t=e.substring(i,o)}else if(e&&e.includes("/gp/")){let r=e.indexOf("/gp/"),i=r+4,o=r+14;t=e.substring(i,o)}return t}let totalCountAmazonRviews=0,totalCountAliExpressRviews=0,alreadyreceivedResponse=0;function importReviewsFRomAmazon(e,t){disableLoadButton();let r=!0;try{_savedConfiguration=JSON.parse(localStorage.getItem("_savedConfigurationReviewPlugin"))}catch(e){_savedConfiguration={},enableLoadButtons()}_savedConfiguration||(_savedConfiguration={});let i=_savedConfiguration?_savedConfiguration.singleImportonfigurationAmazon:{};i||(i={});let o=jQuery("#importOnlyWithImagesAmazon").prop("checked")||i.importOnlyWithImagesAmazon,a=jQuery("#imortOnlyFiveStarsAmazon").prop("checked")||i.imortOnlyFiveStarsAmazon,n=jQuery("#searchKeywordAmazon").val()||i.searchKeywordAmazon,s=jQuery("#onlyVerifiedPurchase").prop("checked")||i.onlyVerifiedPurchase;r=jQuery("#isHighQualityImage").prop("checked")||i.isHighQualityImage;let d=jQuery('input[name="languageAmazon"]:checked').val();if(!d){d=localStorage.getItem("amazonLanguage")||"en_US"}jQuery("#loadMoreReviewsAmazon").show(),jQuery("#loadMoreReviewsAmazon50").show(),jQuery("#loadMoreReviewsAmazon100").show(),jQuery("#loadMoreReviews").hide(),jQuery("#loadMoreReviews50").hide(),jQuery("#loadMoreReviews100AliExpress").hide();let l=jQuery("#amazonSku").val(),u="",c="en_EN";if(l&&l.includes("www.amazon.")&&(u=getAmazonAsinFromUrl(l),c=getLanguageFRomUrl(l)),!l)return void displayToast("Product url cannot be empty");if(!u)return void displayToast("Cannot find product id from url, please make sure you copy paste the url from the product page, if the issue persists, please contact wooshark");let p=new XMLHttpRequest;p.onreadystatechange=function(){if(4==p.readyState)if(200===p.status){try{if(enableLoadButtons(),currentPageReviewsAmazon+=1,data=JSON.parse(p.response).data,data){var e="";totalCountAmazonRviews+=data.length,jQuery("#reviewsCounter").text("( "+totalCountAmazonRviews+" )"),data.forEach(function(t){e='<tr><td id="review" contenteditable>'+enrichAmazonReview(t.review,t.reviewTitle,t.helpfulStatement,t.reviewData)+'</td><td id="username" contenteditable>'+t.userName+'</td><td id="datecreation" contenteditable>'+t.datecreation+'</td><td id="rating"><input type="number" min="1" max="5" value="'+t.finalRating+'"></input></td><td id="email" contenteditable> *******@unknown.com </td><td style="width:15%"><input  placeholder="add tag" id="tagContent" class="form-control"><input type="color" value="#8000ff" id="colorTag" ><button class="button-5" id="addTag" type="button" style="margin-left:5px"> Add tag </button></td><td><button class="btn btn-danger" id="removeReview">X</button></td><td style="width:20%""><button class="button-8" style="font-size: 0.8rem; width:100%" type="button" id="addToReviewsLibrary">Insert to product</button></td></tr></tr>',jQuery("#table-reviews tbody").append(e)}),jQuery("#table-reviews tr td[contenteditable]").css({border:"1px solid #51a7e8","box-shadow":"inset 0 1px 2px rgba(0,0,0,0.075), 0 0 5px rgba(81,167,232,0.5)"})}}catch(e){stopLoadingSpinner()}alreadyreceivedResponse++}else alreadyreceivedResponse++;9==alreadyreceivedResponse&&(jQuery(".lds-ring").remove(),jQuery("#loadMoreReviewsAmazon100").show())},p.open("POST",hostname+":8002/getReviewsFeomAmazonOfficialApiBulk",!0),p.setRequestHeader("Content-Type","application/json"),p.send(JSON.stringify({isHighQualityImage:!0,productId:u,startIndex:e,languageAmazon:c,multiplierIndex:1,imortOnlyFiveStarsAmazon:a,importOnlyWithImagesAmazon:o,searchKeywordAmazon:n,onlyVerifiedPurchase:s,userWebsite:window.location.href}))}function importReviewsFRomAliexpress(e,t){disableLoadButton();try{_savedConfiguration=JSON.parse(localStorage.getItem("_savedConfigurationReviewPlugin"))}catch(e){_savedConfiguration={},enableLoadButtons()}_savedConfiguration||(_savedConfiguration={});let r=_savedConfiguration?_savedConfiguration.singleImportonfigurationAliExpress:{};r||(r={});jQuery('input[name="language"]:checked').val()||r.importOnlyWithImagesAmazon;let i=jQuery("#importOnlyWithImagesAliexpress").prop("checked")||r.importOnlyWithImagesAliexpress,o=jQuery("#imortOnlyFiveStarsAliExpress").prop("checked")||r.imortOnlyFiveStarsAliExpress;jQuery("#generateRandomNamesAliExpress").prop("checked")||r.generateRandomNamesAliExpress,jQuery("#loadMoreReviews").show(),jQuery("#loadMoreReviews50").show(),jQuery("#loadMoreReviews100AliExpress").show(),jQuery("#loadMoreReviewsAmazon").hide(),jQuery("#loadMoreReviewsAmazon50").hide(),jQuery("#loadMoreReviewsAmazon100").hide();var a=jQuery("#aliexpressProductSku").val();let n="",s="en_EN";if(a&&a.includes("aliexpress.")&&a.includes("/item/")&&(n=getAliexpressProductId(a),s=getLnguageFfromAliexpressUrl(a)),!a)return displayToast("Product url cannot be empty"),void stopLoadingSpinner();n||displayToast("Cannot find product id from url, please make sure you copy paste the url from the product page, if the issue persists, please contact wooshark");let d=new XMLHttpRequest;d.onreadystatechange=function(){if(4==d.readyState)if(200===d.status){try{if(enableLoadButtons(),data=JSON.parse(d.response).data,data&&data.length){currentPageReviewsAliExpress+=1;var e="";jQuery("#setRealRandomName").show(),jQuery("#Load100Reviews").show(),totalCountAliExpressRviews+=data.length,jQuery("#reviewsCounterAliExpress").text("( "+totalCountAliExpressRviews+" )"),data.forEach(function(t){e='<tr><td id="review" contenteditable>'+enrichReviewContent(t.review,t.flag,t.userOrderInfo)+'</td><td id="username" contenteditable>'+getUsername()+'</td><td id="datecreation" contenteditable>'+t.datecreation+'</td><td id="rating"><input type="number" min="1" max="5" value="5"></input></td><td id="email" contenteditable> *******@unknown.com (you can change this)</td><td style="width:15%"><input  placeholder="add tag" id="tagContent" class="form-control"><input type="color" value="#8000ff" id="colorTag" ><button class="button-5" id="addTag" type="button" style="margin-left:5px"> Add tag </button></td><td><button class="btn btn-danger" id="removeReview">X</button></td><td><button type="button" class="button-8" style="font-size: 0.8rem;" id="addToReviewsLibrary">Insert to product</button></td></tr></tr>',jQuery("#table-reviews tbody").append(e)}),jQuery("#table-reviews tr td[contenteditable]").css({border:"1px solid #51a7e8","box-shadow":"inset 0 1px 2px rgba(0,0,0,0.075), 0 0 5px rgba(81,167,232,0.5)"})}else displayToast("No reviews for this sku using the preselected criteria")}catch(e){stopLoadingSpinner(),enableLoadButtons()}alreadyreceivedResponse++}else alreadyreceivedResponse++;9==alreadyreceivedResponse&&jQuery(".lds-ring").remove()},d.open("POST",hostname+":8002/getReviewsFeomAliExpressOfficialApiBulk",!0),d.setRequestHeader("Content-Type","application/json"),d.send(JSON.stringify({productId:n,startIndex:e,multiplierIndex:1,languageAliexpress:s,importOnlyWithImagesAliexpress:i,imortOnlyFiveStarsAliExpress:o,userWebsite:window.location.href}))}function LoadReviewsLibrary(){jQuery.ajax({url:wooshark_params_reviews.ajaxurl,type:"POST",dataType:"JSON",data:{action:"load-reviews-library"},success:function(t){t&&t.reviewsLibrary&&t.reviewsLibrary.length&&t.reviewsLibrary.forEach(function(t){t&&t.reviewContent&&t.username&&t.dateCreation&&(e='<tr><td id="review" contenteditable>'+t.reviewContent.replace(/\\"/g,'"')+'</td><td id="username" contenteditable>'+t.username+'</td><td id="datecreation" contenteditable>'+t.dateCreation+'</td><td id="rating"><input type="number" min="1" max="5" value="5"></input></td><td id="email" contenteditable> '+t.reviewEmail+' </td><td style="width:15%"><input  placeholder="add tag" id="tagContent" class="form-control"><input type="color" value="#8000ff" id="colorTag" ><button class="button-5" id="addTag" type="button" style="margin-left:5px"> Add tag </button></td><td><button class="btn btn-danger" id="removeReview">X</button></td><td>-</td></tr></tr>',jQuery("#table-reviews tbody").append(e))})},error:function(e){console.log("****err",e),displayToast("error while getting reviews library","red")},complete:function(){console.log("SSMEerr")}})}function getAllReviewsLibrary(){jQuery.ajax({url:wooshark_params_reviews.ajaxurl,type:"POST",dataType:"JSON",data:{action:"load-reviews-library"},success:function(t){t&&t.reviewsLibrary&&t.reviewsLibrary.length&&t.reviewsLibrary.forEach(function(t){t&&t.reviewContent&&t.username&&t.dateCreation&&(e="<tr><td>"+t.review_id+'</td><td id="review" contenteditable>'+t.reviewContent.replace(/\\"/g,'"')+'</td><td id="username" contenteditable>'+t.username+'</td><td id="datecreation" contenteditable>'+t.dateCreation+'</td><td id="rating"><input type="number" min="1" max="5" value="5"></input></td><td id="email" contenteditable> '+t.reviewEmail+' </td><td><button class="btn btn-danger" id="removeReviewFromLibrary">X</button></td></tr></tr>',jQuery("#reviews-library-table tbody").append(e))})},error:function(e){console.log("****err",e),displayToast("error while getting reviews library","red")},complete:function(){console.log("SSMEerr")}})}function addToLibrary(e){jQuery.ajax({url:wooshark_params_reviews.ajaxurl,type:"POST",dataType:"JSON",data:{action:"add-review-to-library",reviewContent:e},success:function(e){e&&e.result&&displayToast("added successfully")},error:function(e){console.log("****err",e)},complete:function(){console.log("SSMEerr")}})}jQuery(document).on("click","#searchBySku",function(e){jQuery("#products-wooshark-reviews").empty(),jQuery(".loader2").css({display:"block",position:"fixed","z-index":9999,top:"50px",right:"50px","border-radius":"35px","background-color":"red"});let t=jQuery("#skusearchValue").val();t?jQuery.ajax({url:wooshark_params_reviews.ajaxurl,type:"POST",dataType:"JSON",data:{action:"search-product-by-sku-reviews",searchSkuValue:t},success:function(e){if(stopLoading(),e){var t=jQuery("#products-wooshark-reviews");t.find("tbody tr").remove(),e.forEach(function(e,r){t.append("<tr><td ><img style='border:1px solid grey' width='80px' height='80px' src="+e.image+"></img></td><td>"+e.sku+"</td><td>"+e.id+"</td> <td>"+e.title.substring(0,50)+"</td><td><button class='button-5' id='insert-product-reviews-plugin' style='width:100%'><a style='color:white'  data-toggle='modal' data-target='#modal'> Add Reviews </a></button></td></tr>")})}},error:function(e){e&&e.responseText&&displayToast(e.responseText,"red"),stopLoadingSpinner()},complete:function(){console.log("SSMEerr"),stopLoadingSpinner()}}):getAllProducts(1)}),jQuery(document).on("click","#addToReviewsLibrary",function(e){let t=jQuery(this).parents("tr")[0].cells[0].innerHTML,r=jQuery(this).parents("tr")[0].cells[1].innerHTML,i=jQuery(this).parents("tr").find("input").val()||5,o=jQuery(this).parents("tr")[0].cells[2].innerHTML,a=jQuery(this).parents("tr")[0].cells[4].innerHTML,n=[];n.push({review:t,rating:i,datecreation:o,username:r,email:a}),startLoadingSpinner(),jQuery.ajax({url:wooshark_params_reviews.ajaxurl,type:"POST",dataType:"JSON",data:{action:"insert-reviews-to-productRM",post_id:currentProductId,reviews:n},success:function(e){e&&!e.error&&e.insertedSuccessfully&&e.insertedSuccessfully.length?displayToast(e.insertedSuccessfully.length+" reviews are imported successfully","black"):e.error_max_reached?(displayToast("already  "+e.error_max_reached+" imported reviews  --  Reached max import limit for this month, pelase upgrade to premuim plan, counter will reset at the beginning of the next month","black"),setTimeout(function(){window.open("http://sharkdropship.com/irivyou","_blank")},4e3)):displayToast("Unknown errr, pelase contact wooshrak","red"),stopLoadingSpinner()},error:function(e){console.log("****err",e),stopLoadingSpinner(),e&&e.responseText&&displayToast(e.responseText,"red")}})}),jQuery(document).on("click","#persistREviewLibrary",function(e){let t=jQuery("#reviews-library-table tbody tr"),r=[];t.each(function(e,t){let i=t.cells[0].innerHTML,o=t.cells[1].innerHTML,a=t.cells[2].innerHTML,n=t.cells[4].innerHTML;r.push({reviewContent:i,username:o,dateCreation:a,reviewEmail:n})}),r&&r.length&&jQuery.ajax({url:wooshark_params_reviews.ajaxurl,type:"POST",dataType:"JSON",data:{action:"update-reviews-to-library",finalReviews:r},success:function(e){e&&e.result&&displayToast("updated successfully")},error:function(e){console.log("****err",e)},complete:function(){console.log("SSMEerr")}})}),jQuery(document).on("click","#searchReviewByKeyword",function(e){let t=jQuery("#reviewByKeyword").val();t&&jQuery.ajax({url:wooshark_params_reviews.ajaxurl,type:"POST",dataType:"JSON",data:{action:"search-review-to-library",reviewKeyword:t},success:function(t){t&&t.result&&t.result.length&&(jQuery("#reviews-library-table tbody tr").remove(),t.result.forEach(function(t){t&&t.reviewContent&&t.username&&t.dateCreation&&(e="<tr><td>"+t.review_id+'</td><td id="review" contenteditable>'+t.reviewContent.replace(/\\"/g,'"')+'</td><td id="username" contenteditable>'+t.username+'</td><td id="datecreation" contenteditable>'+t.dateCreation+'</td><td id="rating"><input type="number" min="1" max="5" value="5"></input></td><td id="email" contenteditable> '+t.reviewEmail+' </td><td><button class="btn btn-danger" id="removeReviewFromLibrary">X</button></td></tr></tr>',jQuery("#reviews-library-table tbody").append(e))}))},error:function(e){console.log("****err",e),displayToast("cannot find any review using the search criteria")},complete:function(){console.log("SSMEerr")}})}),jQuery(document).on("click","#removeReviewFromLibrary",function(e){let t=jQuery(this).parents("tr")[0].cells[0].innerHTML;t&&(jQuery(this).parents("tr").remove(),jQuery.ajax({url:wooshark_params_reviews.ajaxurl,type:"POST",dataType:"JSON",data:{action:"remove-review-to-library",review_id:t},success:function(e){e&&e.result&&displayToast("removed successfully")},error:function(e){console.log("****err",e),displayToast("Error wile removal")},complete:function(){console.log("SSMEerr")}}))});